<%- include('blocks/header', {bot: bot, user: user, auth: auth, inv: inv, guild: guild}) %>

<title><%= guild.name%></title>

<style>

.headerDiv {
 background-color: #18191C; 
 width: 100%;
 height: 400px;
 margin-top: -40px;
 border-style: solid;
 border-width: 0px 0px 0.1px 0px;
 border-color: #7289DA;
}

.guildName {
  color: #7289DA;
  font-size: 65px;
  font-family: 'PayBack';
}

.headerTextDescription {
 color: white;
 width: 640px; 
 margin-left: 200px;
 margin-top: -40px;
 font-size: 17px;
 word-break: normal;
}

.headerButton {
  border-radius: 5px;
  padding: 10px;

  width: 150px;
  margin-top: 20px;
  background-color: #18191C;
}

.textFeatured {
 color: 7289DA;
}

.errText {
 margin-top: 18px;
 font-size: 45px;
}

</style>

<body>
<% if(guild.available == true && inv !== null && inv.match(/(discord\.(gg|me|io)|(discordapp\.com|discord\.com)\/invite).*/) ) {%>
 <div class="headerDiv" id="#">
   <h1 class="guildName text-center" style="margin-top: 18px;">
     <%= guild.name %> - Invite
   </h1>
  <div class="text-center">
   <a class="btn btn-secondary headerButton" style="" onlick="tyFunc()" href="<%= inv %>" role="button">Entrar »</a>
   <input type="text" value="<%= inv %>" id="inviteToCopy" style="opacity: 0;">
   <a class="btn btn-secondary headerButton" style="" onclick="copyFunc()" href="#" role="button">Copiar Convite »</a>
  </div>
 </div> 
<% } else { %>
 <div class="headerDiv" id="#1">
  <h1 class="errText text-center">
    Este servidor não está disponível e/ou não setou o convite.
   </h1>
 </div>
<% } %>
</body>

<script>

function copyFunc() {

  var copyText = document.getElementById("inviteToCopy");

  copyText.select();

  document.execCommand("copy");

}

function tyFunc() {
 alert('Obrigado por entrar! <%= guild.owner.user.tag %> Agradece!')
}

</script>