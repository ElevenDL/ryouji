<%- include('blocks/header', {bot: bot, user: user, auth: auth, guild:guild, moment:moment, serverList: serverList, premium: premium, invite: invite, upvotes: upvotes}) %>
<% if(guild) {%>

<head>
    <title>
        <%= guild.name%> -
        <%= bot.user.username %>
    </title>
    <meta name="theme-color" content="#23272A">
    <meta property="og:title" content="Ryouji WebSite">
    <meta property="og:url" content="https://ryouji.glitch.me/servers/<%= guild.id %>">
    <meta property="og:description" content="Acesse <%= guild.name %> ">
    <meta property="og:image" content="<%= guild.iconURL%>?size=512">
    <link rel="stylesheet" type="text/css" href="public/servers/hover.css">
    <link rel="stylesheet" type="text/css" href="public/servers/main.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/components/button.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.13/components/icon.css">
</head>
<style>
    .banner {
	margin-top: 20px;
}

*.container img {
	position: absolute;
}

.headerimagee {
	z-index: 1;
}

.pfp {
	border-radius: 50%;
	position: absolute;
	top: 100px;
	margin: auto;
	margin-left: 20px;
	z-index: 1;
	width: 150px;
	height: 150px;
	-webkit-transition: all 0.4s;
	transition: all 0.4s;
	display: block;
}

.disable {
 color: white;

 }

.nametitle {
	position: absolute;
	top: 110px;
	margin: auto;
	margin-left: 180px;
	z-index: 1;

	-webkit-transition: all 0.4s;
	transition: all 0.4s;
	padding: 2px 5px;
	color: #fff;
	background-color: rgba(0, 0, 0, .8);
	line-height: 1.3;
}

.nameunder {
	position: absolute;
	top: 140px;
	margin: auto;
	margin-left: 180px;
	z-index: 1;

	-webkit-transition: all 0.4s;
	transition: all 0.4s;
	padding: 2px 5px;
	color: #fff;
	background-color: rgba(0, 0, 0, .8);
	line-height: 1.3;
}

.socialbar {
	width: 100%;
	padding: 10px;
}

.headerimagee,
.socialbar,
#site-header {
	background-color:  !important;
}

div .btn-1x {
	color: #7187dd !important;
}

  .jumbotron {
    border-style: solid;
    border-width: 0px 0px 0px 5px;
    border-color: #7289DA;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
   }

   .dropdown {
    position: relative;
    display: inline-block;
   }

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #7289DA;
    min-width: 150px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
}

.emoji {
 height: 25px;
 width: 25px;
}

.dropdown-content a {
    color: white;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {background-color: #6b7aad}

.dropdown:hover .dropdown-content {
    display: block;
    margin-left: 880px;
}
      
		</style>
<div class="container">
    <% 

let serverRegion = {
    'amsterdam' : ' Amsterdã',
    'brazil'    : ' Brasil',
    'eu-central': ' Europa Central',
    'eu-west'   : ' Europa Ocidental',
    'frankfurt' : ' Frankfurt',
    'hongkong'  : ' Hong Kong',
    'japan'     : ' Japão',
    'london'    : ' Londres',
    'russia'    : ' Russia',
    'singapore' : ' Singapura',
    'sydney'    : ' Sydney',
    'us-central': ' EUA Central',
    'us-east'   : ' EUA Oriental',
    'us-west'   : ' EUA Ocidental',
    'us-south'  : ' EUA Sul',
}[guild.region];

let explicitContentFilters = {
  '0' : 'Não há filtros de conteúdos explícito',
  '1' : 'Analisar mensagens de membros sem cargos',
  '2' : 'Analisar mensagens de todos os membros para manter tudo limpinho'
}[guild.explicitContentFilter]

let verificationLevel = {
 '0' : 'Nenhuma',
 '1' : 'Baixa',
 '2' : 'Média',
 '3' : 'Alta',
 '4' : 'Muito Alta'
}[guild.verificationLevel]


if(serverList == null || serverList == true) {
%>

    <body>
        <div class="container">
            <div style="width:100%;  height: 138px; margin: auto; margin-left: -150px;">
                <h1 class="nametitle">
                    <%= guild.name %>
                </h1>
                <% if( guild.iconURL) {%>
                <% if(premium == true) {%>
                <img class="pfp" alt="<%= guild.name%>'s Discord Icon  " width="236" height="236" src="<%= guild.iconURL%>?size=2048" style="border-radius:50%; border:5px solid #23272A;">
                <img alt="Premium" width="50" height="50" src="https://cdn.glitch.com/4a4f105d-84dd-4709-8bfb-16428e054a2d%2Fcertified.svg" style="margin-left: 180px; margin-top: 75px; position: absolute;">
                <% } else {%>
                <img class="pfp" alt="<%= guild.name%>'s Discord Icon  " width="236" height="236" src="<%= guild.iconURL%>?size=2048" style="border-radius:50%; border:5px solid #23272A;">
                <% } %>
                <%}else if(guild.defaultIconURL) { %>
                <img class="pfp" alt="<%= guild.name%>'s Discord Icon  " width="236" height="236" src="<%= guild.defaultIconURL%>?size=2048" style="border-radius:50%; border:5px solid #23272A;">
                <%}%>
            </div>
            <div class="jumbotron" style="width: 100%">
                <% if(guild.me.hasPermission('MANAGE_ROLES_OR_PERMISSIONS') && guild.me.hasPermission('CREATE_INSTANT_INVITE') && guild.me.hasPermission('MANAGE_GUILD')) {%>
                <a href="/servers/<%= guild.id %>/extra"><button type="button" class="btn" style="background-color: #7289DA; color: white; margin-left: 940px; margin-top: -70px;"> Extra </button></a>
                <% } %>
                <% if(invite !== null) {%>
                <a href="https://ryouji.glitch.me/invite/<%= guild.id%>"><button type="button" class="btn" style="background-color: #7289DA; color: white; margin-left: 870px; margin-top: -114px;">Invite</button></a>
                <% } %>
                <a href="https://ryouji.glitch.me/servers/<%= guild.id%>/upvote"><button type="button" class="btn" style="background-color: #7289DA; color: white; margin-left: 785px; margin-top: -158px;">Upvote</button></a>
                <div class="card-body" style="margin-top: -80px;">
                    <p class="">Dono:
                        <span style="color:#7289DA">
                            <%= guild.owner.user.tag %></span>
                        ID: <span style="color:#7289DA">
                            <%= guild.owner.id%></span>
                    </p>
                    <p class="">Canais:
                        <span style="color:#7289DA">
                            <%= guild.channels.size%></span>
                    </p>
                    <p class="">ID:
                        <span style="color:#7289DA">
                            <%= guild.id %></span>
                    </p>
                    <p class="">Membros:
                        <span style="color:#7289DA">
                            <%= guild.memberCount %></span>
                    </p>
                    <p class="">Região:
                        <span style="color:#7289DA">
                            <%= serverRegion %></span>
                    </p>
                    <p class="">Filtro de Conteúdo:
                        <span style="color:#7289DA">
                            <%= explicitContentFilters%> </span>
                    </p>
                    <p class="">Verificação de Membros:
                        <span style="color:#7289DA">
                            <%= verificationLevel %></span>
                    </p>
                    <p class="">Criado em:
                        <span style="color:#7289DA">
                            <%= moment.utc(guild.createdAt).format('LLLL').replace('January', 'Janeiro').replace('February', 'Fevereiro').replace('March', 'Março').replace('April', 'Abril').replace('May', 'Maio').replace('June', 'Junho').replace('July', 'Julho').replace('August', 'Agosto').replace('September', 'Setembro').replace('October', 'Outubro').replace('November', 'Novembro').replace('December', 'Dezembro').replace('Sunday', 'Domingo').replace('Monday', 'Segunda-Feira').replace('Tuesday', 'Terça-Feira').replace('Wednesday', 'Quarta-Feira').replace('Thursday', 'Quinta-Feira').replace('Friday', 'Sexta-Feira').replace('Saturday', 'Sábado') %></span>
                    </p>
                    <p class="">Upvotes:
                        <span style="color:#7289DA">
                          <% if(upvotes !== null) { %>
                            <%= upvotes %>
                          <% } %></span>
                    </p>
                </div>
            </div>
            <h1 class="text-center">
                Canais
            </h1>
            <div class="jumbotron">
                <% guild.channels.forEach(channel => { %>
                <style>
                    .canais {
                        border-style: solid;
                        border-width: 0px 0px 0px 0px;
                        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
                    }
                </style>
                <p class="nav-link disable canais">
                    <% if(channel.type !== 'text') {%>
                    <i class="fa fa-fw fa-microphone"></i>
                    <%= channel.name %>
                    <% } else { %>
                    <i class="fa fa-fw fa-hashtag"></i>
                    <%= channel.name %>
                </p>
                <% }; %>
                <% }); %>
            </div>

        </div>
    </body>
    <% } %>
    <% } %>